(this["webpackJsonpphoto-crop-react"]=this["webpackJsonpphoto-crop-react"]||[]).push([[0],{32:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),i=n.n(c),o=n(15),s=(n(32),n(24)),u=n(58),l=n(57),d=n(14),h=n.n(d),p=n(21),j=function(e){return new Promise((function(t,n){var a=new Image;a.addEventListener("load",(function(){return t(a)})),a.addEventListener("error",(function(e){return n(e)})),a.setAttribute("crossOrigin","anonymous"),a.src=e}))};function f(e){return e*Math.PI/180}function g(e,t){return m.apply(this,arguments)}function m(){return(m=Object(p.a)(h.a.mark((function e(t,n){var a,r,c,i,o,s,u,l=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>2&&void 0!==l[2]?l[2]:0,e.next=3,j(t);case 3:return r=e.sent,c=document.createElement("canvas"),i=c.getContext("2d"),o=Math.max(r.width,r.height),s=o/2*Math.sqrt(2)*2,c.width=s,c.height=s,i.translate(s/2,s/2),i.rotate(f(a)),i.translate(-s/2,-s/2),i.drawImage(r,s/2-.5*r.width,s/2-.5*r.height),u=i.getImageData(0,0,s,s),c.width=n.width,c.height=n.height,i.putImageData(u,0-s/2+.5*r.width-n.x,0-s/2+.5*r.height-n.y),e.abrupt("return",c);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(){var e=Object(p.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,g(t,n);case 4:e.sent.toBlob((function(e){var t=window.URL.createObjectURL(e),n=document.createElement("a");n.download="image.jpeg",n.href=URL.createObjectURL(e),n.click(),window.URL.revokeObjectURL(t)}),"image/jpeg",.66);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=n(5);function x(){var e=r.a.useRef(),t=r.a.useState(null),n=Object(o.a)(t,2),a=n[0],c=n[1],i=r.a.useState(null),d=Object(o.a)(i,2),h=d[0],p=d[1],j=r.a.useState({x:0,y:0}),f=Object(o.a)(j,2),g=f[0],m=f[1],x=r.a.useState(1),O=Object(o.a)(x,2),w=O[0],y=O[1];return Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("div",{className:"container-cropper",children:a?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"cropper",children:Object(v.jsx)(s.a,{image:a,crop:g,zoom:w,aspect:1,onCropChange:m,onZoomChange:y,onCropComplete:function(e,t){p(t)}})}),Object(v.jsx)("div",{className:"slider",children:Object(v.jsx)(u.a,{min:1,max:3,step:.1,value:w,onChange:function(e,t){return y(t)}})})]}):null}),Object(v.jsxs)("div",{className:"container-buttons",children:[Object(v.jsx)("input",{type:"file",accept:"image/*",ref:e,onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.addEventListener("load",(function(){c(t.result)}))}},style:{display:"none"}}),Object(v.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){return e.current.click()},style:{marginRight:"10px"},children:"Choose"}),Object(v.jsx)(l.a,{variant:"contained",color:"secondary",onClick:function(){b(a,h)},children:"Download"})]})]})}var O=document.getElementById("root");i.a.render(Object(v.jsx)(a.StrictMode,{children:Object(v.jsx)(x,{})}),O)}},[[43,1,2]]]);
//# sourceMappingURL=main.a289eb85.chunk.js.map